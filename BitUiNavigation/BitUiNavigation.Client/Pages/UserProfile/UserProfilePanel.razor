@inherits ModalPanelBase<UserProfileViewModel>
@using BitUiNavigation.Client.Pages.Modal.Components
@using BitUiNavigation.Client.Pages.Modal.Panels
@using BitUiNavigation.Client.Services
@using Blazored.FluentValidation

<SkeletonWhileBusy IsBusy="@(UserModalState.IsInitializing)">
    <EditForm @ref="editForm" Model="@Model">
        <FluentValidationValidator />
        <BitGrid Columns="2" HorizontalSpacing="1rem" VerticalSpacing="0.5rem" Style="grid-template-columns:150px 1fr;">
            <BitGridItem>
                <BitText>First name</BitText>
            </BitGridItem>
            <BitGridItem>
                <BitTextField @bind-Value="Model.FirstName" Trim />
                <ValidationMessage For="() => Model.FirstName" />
            </BitGridItem>

            <BitGridItem>
                <BitText>Last name</BitText>
            </BitGridItem>
            <BitGridItem>
                <BitTextField @bind-Value="Model.LastName" Trim />
                <ValidationMessage For="() => Model.LastName" />
            </BitGridItem>
        </BitGrid>
    </EditForm>
</SkeletonWhileBusy>
@code {
    private UserModalState UserModalState => GetState<UserModalState>();
    protected override UserProfileViewModel Model => UserModalState.ProfileVm;
}
